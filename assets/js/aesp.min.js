function setMask(e,t,n=!1){var o;for(o of document.querySelectorAll(e)){const c={mask:t};n&&(c.blocks={num:{mask:Number,thousandsSeparator:".",scale:2,padFractionalZeros:!0}});IMask(o,c)}}function initMasks(){setMask(".cep","00000{-}000"),setMask(".cpf","000{.}000{.}000{-}00"),setMask(".fone","00 [0]{0000-0000}"),setMask(".salario","R$ num",!0)}function callbackCep(e){if("erro"in e){const n=document.getElementById("cep");var t="CEP não encontrado.";return alert(t),console.warn(t),n.value="",n.focus(),e.errorMsg=t}return completaEndereco(e)}function consultaCep(n){n.addEventListener("blur",()=>{let e=n.value;if(""===(e=e.replace(/\D/g,""))||e.length<8)return!1;if(!/^[0-9]{8}$/.test(e))return console.error("Formato de CEP inválido."),{erro:!0,errorMsg:"Formato de CEP inválido."};const t=document.createElement("script");t.src="https://viacep.com.br/ws/"+e+"/json/?callback=callbackCep",document.body.appendChild(t)})}function completaEndereco(e){const t=document.getElementById("rua"),n=(t.value=e.logradouro,document.getElementById("cidade")),o=(n.value=e.localidade,document.getElementById("uf")),c=(o.value=e.uf,document.getElementById("bairro")),d=(c.value=e.bairro,document.getElementById("numero"));d.focus()}function initCep(){consultaCep(document.getElementById("cep"))}function ajax_curriculo_form(){const o=document.getElementById("form-curriculo"),c=o.querySelector("button");c.disabled||o.addEventListener("submit",e=>{e.preventDefault(),c.disabled=!0;document.getElementById("nome"),document.getElementById("sobrenome"),document.getElementById("email"),document.getElementById("cep"),document.getElementById("rua"),document.getElementById("numero"),document.getElementById("bairro"),document.getElementById("complemento"),document.getElementById("cidade"),document.getElementById("uf"),document.getElementById("cpf"),document.getElementById("fone"),document.getElementById("rede-social"),document.getElementById("cargo"),document.getElementById("formacao"),document.getElementById("outros-cursos"),document.getElementById("experiencia"),document.getElementById("salario"),document.getElementById("info");const t=new FormData(o),n=(t.append("action","aesp_post_curriculo_form"),console.log("formData",t),new XMLHttpRequest);n.open("POST",ajax_object.ajax_url,!0),n.onreadystatechange=function(e){if(4===this.readyState&&200===this.status){const e=JSON.parse(n.responseText);console.log(e)}4===this.readyState&&404===this.status&&console.log("An error occurred"),c.disabled=!1},n.send(t)})}document.addEventListener("DOMContentLoaded",function(){initMasks(),initCep(),ajax_curriculo_form()},!1);